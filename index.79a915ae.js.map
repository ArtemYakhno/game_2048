{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/modules/Game.class.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_class_private_field_get.js","node_modules/@swc/helpers/esm/_class_apply_descriptor_get.js","node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js","node_modules/@swc/helpers/esm/_class_private_field_init.js","node_modules/@swc/helpers/esm/_check_private_redeclaration.js","node_modules/@swc/helpers/esm/_class_private_field_set.js","node_modules/@swc/helpers/esm/_class_apply_descriptor_set.js","node_modules/@swc/helpers/esm/_class_private_method_get.js","node_modules/@swc/helpers/esm/_class_private_method_init.js","node_modules/@swc/helpers/esm/_create_class.js","node_modules/@swc/helpers/esm/_define_property.js"],"sourcesContent":["(function () {\n\"use strict\";\nvar $3d28d7f1aac198f5$exports = {};\nfunction $8713978b2328d32b$export$71511d61b312f219(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n\nfunction $ac3905202f0710b7$export$71511d61b312f219(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n    return descriptor.value;\n}\n\n\nfunction $753de3cb5925592a$export$71511d61b312f219(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    return privateMap.get(receiver);\n}\n\n\nfunction $2f97c2a4ea6269f4$export$71511d61b312f219(receiver, privateMap) {\n    var descriptor = (0, $753de3cb5925592a$export$71511d61b312f219)(receiver, privateMap, \"get\");\n    return (0, $ac3905202f0710b7$export$71511d61b312f219)(receiver, descriptor);\n}\n\n\nfunction $f86983e96b0c893e$export$71511d61b312f219(obj, privateCollection) {\n    if (privateCollection.has(obj)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\n\n\nfunction $5d6c3530fa14a187$export$71511d61b312f219(obj, privateMap, value) {\n    (0, $f86983e96b0c893e$export$71511d61b312f219)(obj, privateMap);\n    privateMap.set(obj, value);\n}\n\n\nfunction $a91e4d47d6e0e68a$export$71511d61b312f219(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) // This should only throw in strict mode, but class bodies are\n        // always strict and private fields can only be used inside\n        // class bodies.\n        throw new TypeError(\"attempted to set read only private field\");\n        descriptor.value = value;\n    }\n}\n\n\n\nfunction $20d5c04b0c6865c9$export$71511d61b312f219(receiver, privateMap, value) {\n    var descriptor = (0, $753de3cb5925592a$export$71511d61b312f219)(receiver, privateMap, \"set\");\n    (0, $a91e4d47d6e0e68a$export$71511d61b312f219)(receiver, descriptor, value);\n    return value;\n}\n\n\nfunction $ac6739cbe5bf1c84$export$71511d61b312f219(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) throw new TypeError(\"attempted to get private field on non-instance\");\n    return fn;\n}\n\n\n\nfunction $ea91727f98d0802f$export$71511d61b312f219(obj, privateSet) {\n    (0, $f86983e96b0c893e$export$71511d61b312f219)(obj, privateSet);\n    privateSet.add(obj);\n}\n\n\nfunction $4fc75ccb937ab1df$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $4fc75ccb937ab1df$export$71511d61b312f219(Constructor, protoProps, staticProps) {\n    if (protoProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n\nfunction $cd5a47cf8ef6d766$export$71511d61b312f219(obj, key, value) {\n    if (key in obj) Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n    });\n    else obj[key] = value;\n    return obj;\n}\n\n\n\"use strict\";\nvar /**\n   * Creates a new game instance.\n   *\n   * @param {number[][]} initialState\n   * The initial state of the board.\n   * @default\n   * [[0, 0, 0, 0],\n   *  [0, 0, 0, 0],\n   *  [0, 0, 0, 0],\n   *  [0, 0, 0, 0]]\n   *\n   * If passed, the board will be initialized with the provided\n   * initial state.\n   */ $3d28d7f1aac198f5$var$_initialBoard = /*#__PURE__*/ new WeakMap(), $3d28d7f1aac198f5$var$_winScrore = /*#__PURE__*/ new WeakMap(), $3d28d7f1aac198f5$var$_checkInitial = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_checkWin = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_checkLose = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_canMakeMove = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_initGame = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_move = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_transpose = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_pushNumber = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_generateRandomIndex = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_findEmptyRows = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_findEmptyCells = /*#__PURE__*/ new WeakSet(), $3d28d7f1aac198f5$var$_generateRandomNumber = /*#__PURE__*/ new WeakSet();\n/**\n * This class represents the game.\n * Now it has a basic structure, that is needed for testing.\n * Feel free to add more props and methods if needed.\n */ var $3d28d7f1aac198f5$var$Game = /*#__PURE__*/ function() {\n    function Game(initialState) {\n        (0, $8713978b2328d32b$export$71511d61b312f219)(this, Game);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkInitial);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkWin);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkLose);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_canMakeMove);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initGame);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_move);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_transpose);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_pushNumber);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_generateRandomIndex);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_findEmptyRows);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_findEmptyCells);\n        (0, $ea91727f98d0802f$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_generateRandomNumber);\n        (0, $5d6c3530fa14a187$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initialBoard, {\n            writable: true,\n            value: [\n                [\n                    0,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    0\n                ]\n            ]\n        });\n        (0, $cd5a47cf8ef6d766$export$71511d61b312f219)(this, \"size\", 4);\n        (0, $5d6c3530fa14a187$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_winScrore, {\n            writable: true,\n            value: 2048\n        });\n        if (initialState) (0, $20d5c04b0c6865c9$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initialBoard, structuredClone(initialState));\n        this.board = structuredClone((0, $2f97c2a4ea6269f4$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initialBoard));\n        this.score = 0;\n    }\n    (0, $4fc75ccb937ab1df$export$71511d61b312f219)(Game, [\n        {\n            key: \"moveLeft\",\n            value: function moveLeft() {\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_move, $3d28d7f1aac198f5$var$move).call(this, \"left\");\n            }\n        },\n        {\n            key: \"moveRight\",\n            value: function moveRight() {\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_move, $3d28d7f1aac198f5$var$move).call(this, \"right\");\n            }\n        },\n        {\n            key: \"moveUp\",\n            value: function moveUp() {\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_move, $3d28d7f1aac198f5$var$move).call(this, \"up\");\n            }\n        },\n        {\n            key: \"moveDown\",\n            value: function moveDown() {\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_move, $3d28d7f1aac198f5$var$move).call(this, \"down\");\n            }\n        },\n        {\n            /**\n   * @returns {number}\n   */ key: \"getScore\",\n            value: function getScore() {\n                return this.score;\n            }\n        },\n        {\n            /**\n   * @returns {number[][]}\n   */ key: \"getState\",\n            value: function getState() {\n                return this.board;\n            }\n        },\n        {\n            /**\n   * Returns the current game status.\n   *\n   * @returns {string} One of: 'idle', 'playing', 'win', 'lose'\n   *\n   * `idle` - the game has not started yet (the initial state);\n   * `playing` - the game is in progress;\n   * `win` - the game is won;\n   * `lose` - the game is lost\n   */ key: \"getStatus\",\n            value: function getStatus() {\n                if ((0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkInitial, $3d28d7f1aac198f5$var$checkInitial).call(this)) return \"idle\";\n                if ((0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkWin, $3d28d7f1aac198f5$var$checkWin).call(this)) return \"win\";\n                if ((0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_checkLose, $3d28d7f1aac198f5$var$checkLose).call(this)) return \"lose\";\n                return \"playing\";\n            }\n        },\n        {\n            /**\n   * Starts the game.\n   */ key: \"start\",\n            value: function start() {\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initGame, $3d28d7f1aac198f5$var$initGame).call(this);\n            }\n        },\n        {\n            /**\n   * Resets the game.\n   */ key: \"restart\",\n            value: function restart() {\n                this.board = structuredClone((0, $2f97c2a4ea6269f4$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initialBoard));\n                this.score = 0;\n                (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initGame, $3d28d7f1aac198f5$var$initGame).call(this);\n            }\n        }\n    ]);\n    return Game;\n}();\nfunction $3d28d7f1aac198f5$var$checkInitial() {\n    return JSON.stringify(this.board) === JSON.stringify((0, $2f97c2a4ea6269f4$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_initialBoard));\n}\nfunction $3d28d7f1aac198f5$var$checkWin() {\n    return this.board.flat().includes((0, $2f97c2a4ea6269f4$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_winScrore));\n}\nfunction $3d28d7f1aac198f5$var$checkLose() {\n    return !(0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_canMakeMove, $3d28d7f1aac198f5$var$canMakeMove).call(this);\n}\nfunction $3d28d7f1aac198f5$var$canMakeMove() {\n    for(var i = 0; i < this.size; i++)for(var j = 0; j < this.size; j++){\n        if (this.board[i][j] === 0) return true;\n        if (j < this.size - 1 && this.board[i][j] === this.board[i][j + 1] || i < this.size - 1 && this.board[i][j] === this.board[i + 1][j]) return true;\n    }\n    return false;\n}\nfunction $3d28d7f1aac198f5$var$initGame() {\n    (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_pushNumber, $3d28d7f1aac198f5$var$pushNumber).call(this);\n    (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_pushNumber, $3d28d7f1aac198f5$var$pushNumber).call(this);\n}\nfunction $3d28d7f1aac198f5$var$move(direction) {\n    var _this = this, _loop = function(i) {\n        var row = newBoard[i].filter(function(v) {\n            return v !== 0;\n        });\n        var newRow = [];\n        for(var j = 0; j < row.length; j++)if (row[j] === row[j + 1]) {\n            newRow.push(row[j] * 2);\n            _this.score += row[j] * 2;\n            j++;\n        } else newRow.push(row[j]);\n        while(newRow.length < _this.size)newRow.push(0);\n        // console.log('newRow', structuredClone(newRow));\n        if (JSON.stringify(newRow) !== JSON.stringify(newBoard[i])) {\n            isMoved = true;\n            newBoard[i] = newRow;\n        }\n    };\n    var newBoard = structuredClone(this.board);\n    var isMoved = false;\n    if (direction === \"up\") newBoard = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_transpose, $3d28d7f1aac198f5$var$transpose).call(this, newBoard);\n    else if (direction === \"down\") newBoard = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_transpose, $3d28d7f1aac198f5$var$transpose).call(this, newBoard).map(function(row) {\n        return row.reverse();\n    });\n    else if (direction === \"right\") newBoard = newBoard.map(function(row) {\n        return row.reverse();\n    });\n    // console.log('newBoard', structuredClone(newBoard));\n    for(var i = 0; i < this.size; i++)_loop(i);\n    if (direction === \"up\") newBoard = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_transpose, $3d28d7f1aac198f5$var$transpose).call(this, newBoard);\n    else if (direction === \"down\") newBoard = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_transpose, $3d28d7f1aac198f5$var$transpose).call(this, newBoard.map(function(row) {\n        return row.reverse();\n    }));\n    else if (direction === \"right\") newBoard = newBoard.map(function(row) {\n        return row.reverse();\n    });\n    this.board = newBoard;\n    if ((0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_findEmptyRows, $3d28d7f1aac198f5$var$findEmptyRows).call(this).length !== 0 && isMoved) (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_pushNumber, $3d28d7f1aac198f5$var$pushNumber).call(this);\n}\nfunction $3d28d7f1aac198f5$var$transpose(matrix) {\n    return matrix[0].map(function(_, colIndex) {\n        return matrix.map(function(row) {\n            return row[colIndex];\n        });\n    });\n}\nfunction $3d28d7f1aac198f5$var$pushNumber() {\n    var indexRow = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_generateRandomIndex, $3d28d7f1aac198f5$var$generateRandomIndex).call(this, 0, this.size, (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_findEmptyRows, $3d28d7f1aac198f5$var$findEmptyRows).call(this));\n    var indexCell = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_generateRandomIndex, $3d28d7f1aac198f5$var$generateRandomIndex).call(this, 0, this.size, (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_findEmptyCells, $3d28d7f1aac198f5$var$findEmptyCells).call(this, indexRow));\n    var value = (0, $ac6739cbe5bf1c84$export$71511d61b312f219)(this, $3d28d7f1aac198f5$var$_generateRandomNumber, $3d28d7f1aac198f5$var$generateRandomNumber).call(this);\n    this.board[indexRow][indexCell] = value;\n}\nfunction $3d28d7f1aac198f5$var$generateRandomIndex(min, max) {\n    var excluded = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    var num;\n    do num = Math.floor(Math.random() * (max - min)) + min;\n    while (!excluded.includes(num));\n    return num;\n}\nfunction $3d28d7f1aac198f5$var$findEmptyRows() {\n    return this.board.map(function(row, index) {\n        if (row.some(function(cell) {\n            return cell === 0;\n        })) return index;\n    }).filter(function(el) {\n        return el !== undefined;\n    });\n}\nfunction $3d28d7f1aac198f5$var$findEmptyCells(indexRow) {\n    return this.board[indexRow].map(function(cell, index) {\n        if (cell === 0) return index;\n    }).filter(function(el) {\n        return el !== undefined;\n    });\n}\nfunction $3d28d7f1aac198f5$var$generateRandomNumber() {\n    var min = 0;\n    var max = 100;\n    // From 0% to 100%\n    var randomInRange = Math.floor(Math.random() * (max - min + 1)) + min;\n    if (randomInRange <= 10) return 4;\n    return 2;\n}\n$3d28d7f1aac198f5$exports = $3d28d7f1aac198f5$var$Game;\n\n\nvar $197cd56b15c33885$var$game = new $3d28d7f1aac198f5$exports();\nvar $197cd56b15c33885$var$button = document.querySelector(\".button.start\");\nvar $197cd56b15c33885$var$messageWin = document.querySelector(\".message-win\");\nvar $197cd56b15c33885$var$messageLose = document.querySelector(\".message-lose\");\nvar $197cd56b15c33885$var$messageStart = document.querySelector(\".message-start\");\nvar $197cd56b15c33885$var$gameScore = document.querySelector(\".game-score\");\nvar $197cd56b15c33885$var$table = document.querySelector(\".game-field tbody\");\nvar $197cd56b15c33885$var$touchStartX = 0;\nvar $197cd56b15c33885$var$touchStartY = 0;\nvar $197cd56b15c33885$var$touchEndX = 0;\nvar $197cd56b15c33885$var$touchEndY = 0;\ndocument.addEventListener(\"touchstart\", function(e) {\n    $197cd56b15c33885$var$touchStartX = e.touches[0].clientX;\n    $197cd56b15c33885$var$touchStartY = e.touches[0].clientY;\n});\ndocument.addEventListener(\"touchend\", function(e) {\n    $197cd56b15c33885$var$touchEndX = e.changedTouches[0].clientX;\n    $197cd56b15c33885$var$touchEndY = e.changedTouches[0].clientY;\n    $197cd56b15c33885$var$handleSwipe();\n});\ndocument.addEventListener(\"keydown\", function(e) {\n    $197cd56b15c33885$var$handleMove(e.key);\n});\n$197cd56b15c33885$var$button.addEventListener(\"click\", function() {\n    if ($197cd56b15c33885$var$game.getStatus() === \"idle\") {\n        $197cd56b15c33885$var$showRestartButton();\n        $197cd56b15c33885$var$game.start();\n    } else $197cd56b15c33885$var$game.restart();\n    $197cd56b15c33885$var$renderBoard();\n});\nfunction $197cd56b15c33885$var$handleSwipe() {\n    var dx = $197cd56b15c33885$var$touchEndX - $197cd56b15c33885$var$touchStartX;\n    var dy = $197cd56b15c33885$var$touchEndY - $197cd56b15c33885$var$touchStartY;\n    if (Math.abs(dx) < 30 && Math.abs(dy) < 30) return;\n    var direction = \"\";\n    if (Math.abs(dx) > Math.abs(dy)) direction = dx > 0 ? \"ArrowRight\" : \"ArrowLeft\";\n    else direction = dy > 0 ? \"ArrowDown\" : \"ArrowUp\";\n    $197cd56b15c33885$var$handleMove(direction);\n}\nfunction $197cd56b15c33885$var$handleMove(direction) {\n    var directionHandled = true;\n    if ($197cd56b15c33885$var$game.getStatus() === \"lose\" || $197cd56b15c33885$var$game.getStatus() === \"idle\") return;\n    switch(direction){\n        case \"ArrowUp\":\n            $197cd56b15c33885$var$game.moveUp();\n            break;\n        case \"ArrowDown\":\n            $197cd56b15c33885$var$game.moveDown();\n            break;\n        case \"ArrowLeft\":\n            $197cd56b15c33885$var$game.moveLeft();\n            break;\n        case \"ArrowRight\":\n            $197cd56b15c33885$var$game.moveRight();\n            break;\n        default:\n            directionHandled = false;\n            break;\n    }\n    if (directionHandled) $197cd56b15c33885$var$renderBoard();\n}\nfunction $197cd56b15c33885$var$renderBoard() {\n    var board = $197cd56b15c33885$var$game.getState();\n    for(var i = 0; i < $197cd56b15c33885$var$game.size; i++)for(var j = 0; j < $197cd56b15c33885$var$game.size; j++){\n        var cell = $197cd56b15c33885$var$table.rows[i].cells[j];\n        var cellValue = board[i][j];\n        cell.textContent = cellValue === 0 ? \"\" : cellValue;\n        cell.className = cellValue === 0 ? \"field-cell\" : \"field-cell field-cell--\".concat(cellValue);\n    }\n    $197cd56b15c33885$var$gameScore.textContent = $197cd56b15c33885$var$game.getScore();\n    $197cd56b15c33885$var$updateMessage();\n}\nfunction $197cd56b15c33885$var$showRestartButton() {\n    $197cd56b15c33885$var$messageStart.classList.add(\"hidden\");\n    $197cd56b15c33885$var$button.classList.remove(\"start\");\n    $197cd56b15c33885$var$button.classList.add(\"restart\");\n    $197cd56b15c33885$var$button.textContent = \"Restart\";\n}\nfunction $197cd56b15c33885$var$updateMessage() {\n    var gameStatus = $197cd56b15c33885$var$game.getStatus();\n    $197cd56b15c33885$var$messageStart.classList.toggle(\"hidden\", gameStatus !== \"idle\");\n    $197cd56b15c33885$var$messageWin.classList.toggle(\"hidden\", gameStatus !== \"win\");\n    $197cd56b15c33885$var$messageLose.classList.toggle(\"hidden\", gameStatus !== \"lose\");\n}\n\n})();\n//# sourceMappingURL=index.79a915ae.js.map\n","'use strict';\n\nconst Game = require('../modules/Game.class');\nconst game = new Game();\nconst button = document.querySelector('.button.start');\nconst messageWin = document.querySelector('.message-win');\nconst messageLose = document.querySelector('.message-lose');\nconst messageStart = document.querySelector('.message-start');\nconst gameScore = document.querySelector('.game-score');\nconst table = document.querySelector('.game-field tbody');\nlet touchStartX = 0;\nlet touchStartY = 0;\nlet touchEndX = 0;\nlet touchEndY = 0;\n\ndocument.addEventListener('touchstart', (e) => {\n  touchStartX = e.touches[0].clientX;\n  touchStartY = e.touches[0].clientY;\n});\n\ndocument.addEventListener('touchend', (e) => {\n  touchEndX = e.changedTouches[0].clientX;\n  touchEndY = e.changedTouches[0].clientY;\n  handleSwipe();\n});\n\ndocument.addEventListener('keydown', (e) => {\n  handleMove(e.key);\n});\n\nbutton.addEventListener('click', () => {\n  if (game.getStatus() === 'idle') {\n    showRestartButton();\n    game.start();\n  } else {\n    game.restart();\n  }\n  renderBoard();\n});\n\nfunction handleSwipe() {\n  const dx = touchEndX - touchStartX;\n  const dy = touchEndY - touchStartY;\n\n  if (Math.abs(dx) < 30 && Math.abs(dy) < 30) {\n    return;\n  }\n\n  let direction = '';\n\n  if (Math.abs(dx) > Math.abs(dy)) {\n    direction = dx > 0 ? 'ArrowRight' : 'ArrowLeft';\n  } else {\n    direction = dy > 0 ? 'ArrowDown' : 'ArrowUp';\n  }\n  handleMove(direction);\n}\n\nfunction handleMove(direction) {\n  let directionHandled = true;\n\n  if (game.getStatus() === 'lose' || game.getStatus() === 'idle') {\n    return;\n  }\n\n  switch (direction) {\n    case 'ArrowUp':\n      game.moveUp();\n      break;\n    case 'ArrowDown':\n      game.moveDown();\n      break;\n    case 'ArrowLeft':\n      game.moveLeft();\n      break;\n    case 'ArrowRight':\n      game.moveRight();\n      break;\n    default:\n      directionHandled = false;\n      break;\n  }\n\n  if (directionHandled) {\n    renderBoard();\n  }\n}\n\nfunction renderBoard() {\n  const board = game.getState();\n\n  for (let i = 0; i < game.size; i++) {\n    for (let j = 0; j < game.size; j++) {\n      const cell = table.rows[i].cells[j];\n      const cellValue = board[i][j];\n\n      cell.textContent = cellValue === 0 ? '' : cellValue;\n\n      cell.className\n        = cellValue === 0 ? 'field-cell' : `field-cell field-cell--${cellValue}`;\n    }\n  }\n\n  gameScore.textContent = game.getScore();\n  updateMessage();\n}\n\nfunction showRestartButton() {\n  messageStart.classList.add('hidden');\n  button.classList.remove('start');\n  button.classList.add('restart');\n  button.textContent = 'Restart';\n}\n\nfunction updateMessage() {\n  const gameStatus = game.getStatus();\n\n  messageStart.classList.toggle('hidden', gameStatus !== 'idle');\n  messageWin.classList.toggle('hidden', gameStatus !== 'win');\n  messageLose.classList.toggle('hidden', gameStatus !== 'lose');\n}\n","'use strict';\n\n/**\n * This class represents the game.\n * Now it has a basic structure, that is needed for testing.\n * Feel free to add more props and methods if needed.\n */\nclass Game {\n  /**\n   * Creates a new game instance.\n   *\n   * @param {number[][]} initialState\n   * The initial state of the board.\n   * @default\n   * [[0, 0, 0, 0],\n   *  [0, 0, 0, 0],\n   *  [0, 0, 0, 0],\n   *  [0, 0, 0, 0]]\n   *\n   * If passed, the board will be initialized with the provided\n   * initial state.\n   */\n\n  #initialBoard = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ];\n  size = 4;\n  #winScrore = 2048;\n\n  constructor(initialState) {\n    if (initialState) {\n      this.#initialBoard = structuredClone(initialState);\n    }\n    this.board = structuredClone(this.#initialBoard);\n    this.score = 0;\n  }\n\n  moveLeft() {\n    this.#move('left');\n  }\n  moveRight() {\n    this.#move('right');\n  }\n  moveUp() {\n    this.#move('up');\n  }\n  moveDown() {\n    this.#move('down');\n  }\n\n  /**\n   * @returns {number}\n   */\n  getScore() {\n    return this.score;\n  }\n\n  /**\n   * @returns {number[][]}\n   */\n  getState() {\n    return this.board;\n  }\n\n  /**\n   * Returns the current game status.\n   *\n   * @returns {string} One of: 'idle', 'playing', 'win', 'lose'\n   *\n   * `idle` - the game has not started yet (the initial state);\n   * `playing` - the game is in progress;\n   * `win` - the game is won;\n   * `lose` - the game is lost\n   */\n  getStatus() {\n    if (this.#checkInitial()) {\n      return 'idle';\n    }\n\n    if (this.#checkWin()) {\n      return 'win';\n    }\n\n    if (this.#checkLose()) {\n      return 'lose';\n    }\n\n    return 'playing';\n  }\n\n  /**\n   * Starts the game.\n   */\n  start() {\n    this.#initGame();\n  }\n\n  /**\n   * Resets the game.\n   */\n  restart() {\n    this.board = structuredClone(this.#initialBoard);\n    this.score = 0;\n    this.#initGame();\n  }\n\n  #checkInitial() {\n    return JSON.stringify(this.board) === JSON.stringify(this.#initialBoard);\n  }\n\n  #checkWin() {\n    return this.board.flat().includes(this.#winScrore);\n  }\n\n  #checkLose() {\n    return !this.#canMakeMove();\n  }\n\n  #canMakeMove() {\n    for (let i = 0; i < this.size; i++) {\n      for (let j = 0; j < this.size; j++) {\n        if (this.board[i][j] === 0) {\n          return true;\n        }\n\n        if (\n          (j < this.size - 1 && this.board[i][j] === this.board[i][j + 1]) ||\n          (i < this.size - 1 && this.board[i][j] === this.board[i + 1][j])\n        ) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  #initGame() {\n    this.#pushNumber();\n    this.#pushNumber();\n  }\n\n  #move(direction) {\n    let newBoard = structuredClone(this.board);\n    let isMoved = false;\n\n    if (direction === 'up') {\n      newBoard = this.#transpose(newBoard);\n    } else if (direction === 'down') {\n      newBoard = this.#transpose(newBoard).map((row) => row.reverse());\n    } else if (direction === 'right') {\n      newBoard = newBoard.map((row) => row.reverse());\n    }\n\n    // console.log('newBoard', structuredClone(newBoard));\n\n    for (let i = 0; i < this.size; i++) {\n      const row = newBoard[i].filter((v) => v !== 0);\n      const newRow = [];\n\n      for (let j = 0; j < row.length; j++) {\n        if (row[j] === row[j + 1]) {\n          newRow.push(row[j] * 2);\n          this.score += row[j] * 2;\n          j++;\n        } else {\n          newRow.push(row[j]);\n        }\n      }\n\n      while (newRow.length < this.size) {\n        newRow.push(0);\n      }\n\n      // console.log('newRow', structuredClone(newRow));\n\n      if (JSON.stringify(newRow) !== JSON.stringify(newBoard[i])) {\n        isMoved = true;\n        newBoard[i] = newRow;\n      }\n    }\n\n    if (direction === 'up') {\n      newBoard = this.#transpose(newBoard);\n    } else if (direction === 'down') {\n      newBoard = this.#transpose(newBoard.map((row) => row.reverse()));\n    } else if (direction === 'right') {\n      newBoard = newBoard.map((row) => row.reverse());\n    }\n    this.board = newBoard;\n\n    if (this.#findEmptyRows().length !== 0 && isMoved) {\n      this.#pushNumber();\n    }\n  }\n\n  #transpose(matrix) {\n    return matrix[0].map((_, colIndex) => matrix.map((row) => row[colIndex]));\n  }\n\n  #pushNumber() {\n    const indexRow = this.#generateRandomIndex(\n      0,\n      this.size,\n      this.#findEmptyRows(),\n    );\n    const indexCell = this.#generateRandomIndex(\n      0,\n      this.size,\n      this.#findEmptyCells(indexRow),\n    );\n    const value = this.#generateRandomNumber();\n\n    this.board[indexRow][indexCell] = value;\n  }\n\n  #generateRandomIndex(min, max, excluded = []) {\n    let num;\n\n    do {\n      num = Math.floor(Math.random() * (max - min)) + min;\n    } while (!excluded.includes(num));\n\n    return num;\n  }\n\n  #findEmptyRows() {\n    return this.board\n      .map((row, index) => {\n        if (row.some((cell) => cell === 0)) {\n          return index;\n        }\n      })\n      .filter((el) => el !== undefined);\n  }\n\n  #findEmptyCells(indexRow) {\n    return this.board[indexRow]\n      .map((cell, index) => {\n        if (cell === 0) {\n          return index;\n        }\n      })\n      .filter((el) => el !== undefined);\n  }\n\n  #generateRandomNumber() {\n    const min = 0;\n    const max = 100;\n    // From 0% to 100%\n    const randomInRange = Math.floor(Math.random() * (max - min + 1)) + min;\n\n    if (randomInRange <= 10) {\n      return 4;\n    }\n\n    return 2;\n  }\n}\n\nmodule.exports = Game;\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","import { _ as _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_get(receiver, privateMap) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\n    return _class_apply_descriptor_get(receiver, descriptor);\n}\nexport { _class_private_field_get as _ };\n","function _class_apply_descriptor_get(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n\n    return descriptor.value;\n}\nexport { _class_apply_descriptor_get as _ };\n","function _class_extract_field_descriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n\n    return privateMap.get(receiver);\n}\nexport { _class_extract_field_descriptor as _ };\n","import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nfunction _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n","function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n","import { _ as _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_set(receiver, privateMap, value) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\n    _class_apply_descriptor_set(receiver, descriptor, value);\n    return value;\n}\nexport { _class_private_field_set as _ };\n","function _class_apply_descriptor_set(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nexport { _class_apply_descriptor_set as _ };\n","function _class_private_method_get(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) throw new TypeError(\"attempted to get private field on non-instance\");\n\n    return fn;\n}\nexport { _class_private_method_get as _ };\n","import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nfunction _class_private_method_init(obj, privateSet) {\n    _check_private_redeclaration(obj, privateSet);\n    privateSet.add(obj);\n}\nexport { _class_private_method_init as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n","function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n"],"names":["$753de3cb5925592a$export$71511d61b312f219","receiver","privateMap","action","has","TypeError","get","$2f97c2a4ea6269f4$export$71511d61b312f219","descriptor","call","value","$f86983e96b0c893e$export$71511d61b312f219","obj","privateCollection","$5d6c3530fa14a187$export$71511d61b312f219","set","$ac6739cbe5bf1c84$export$71511d61b312f219","privateSet","fn","$ea91727f98d0802f$export$71511d61b312f219","add","$3d28d7f1aac198f5$var$_initialBoard","WeakMap","$3d28d7f1aac198f5$var$_winScrore","$3d28d7f1aac198f5$var$_checkInitial","WeakSet","$3d28d7f1aac198f5$var$_checkWin","$3d28d7f1aac198f5$var$_checkLose","$3d28d7f1aac198f5$var$_canMakeMove","$3d28d7f1aac198f5$var$_initGame","$3d28d7f1aac198f5$var$_move","$3d28d7f1aac198f5$var$_transpose","$3d28d7f1aac198f5$var$_pushNumber","$3d28d7f1aac198f5$var$_generateRandomIndex","$3d28d7f1aac198f5$var$_findEmptyRows","$3d28d7f1aac198f5$var$_findEmptyCells","$3d28d7f1aac198f5$var$_generateRandomNumber","$3d28d7f1aac198f5$var$checkInitial","JSON","stringify","board","$3d28d7f1aac198f5$var$checkWin","flat","includes","$3d28d7f1aac198f5$var$checkLose","$3d28d7f1aac198f5$var$canMakeMove","i","size","j","$3d28d7f1aac198f5$var$initGame","$3d28d7f1aac198f5$var$pushNumber","$3d28d7f1aac198f5$var$move","direction","_this","newBoard","structuredClone","isMoved","$3d28d7f1aac198f5$var$transpose","map","row","reverse","_loop","filter","v","newRow","length","push","score","$3d28d7f1aac198f5$var$findEmptyRows","matrix","_","colIndex","indexRow","$3d28d7f1aac198f5$var$generateRandomIndex","indexCell","$3d28d7f1aac198f5$var$findEmptyCells","$3d28d7f1aac198f5$var$generateRandomNumber","min","max","num","excluded","arguments","Math","floor","random","index","some","cell","el","undefined","randomInRange","$197cd56b15c33885$var$game","protoProps","Game","initialState","key","instance","Constructor","writable","Object","defineProperty","enumerable","configurable","$4fc75ccb937ab1df$var$_defineProperties","target","props","prototype","$197cd56b15c33885$var$button","document","querySelector","$197cd56b15c33885$var$messageWin","$197cd56b15c33885$var$messageLose","$197cd56b15c33885$var$messageStart","$197cd56b15c33885$var$gameScore","$197cd56b15c33885$var$table","$197cd56b15c33885$var$touchStartX","$197cd56b15c33885$var$touchStartY","$197cd56b15c33885$var$touchEndX","$197cd56b15c33885$var$touchEndY","$197cd56b15c33885$var$handleMove","directionHandled","getStatus","moveUp","moveDown","moveLeft","moveRight","$197cd56b15c33885$var$renderBoard","gameStatus","getState","rows","cells","cellValue","textContent","className","concat","getScore","classList","toggle","addEventListener","e","touches","clientX","clientY","dx","dy","changedTouches","abs","remove","start","restart"],"version":3,"file":"index.79a915ae.js.map"}